{"version":3,"sources":["webpack:////Users/liangrumeng/Documents/HBuilderProjects/wx-meituan/pages/search/search.vue?9064","webpack:////Users/liangrumeng/Documents/HBuilderProjects/wx-meituan/pages/search/search.vue?3660","webpack:////Users/liangrumeng/Documents/HBuilderProjects/wx-meituan/main.js","webpack:////Users/liangrumeng/Documents/HBuilderProjects/wx-meituan/pages/search/search.vue?f499","webpack:////Users/liangrumeng/Documents/HBuilderProjects/wx-meituan/pages/search/search.vue?5b79","webpack:////Users/liangrumeng/Documents/HBuilderProjects/wx-meituan/pages/search/search.vue?311a","webpack:////Users/liangrumeng/Documents/HBuilderProjects/wx-meituan/pages/search/search.vue?7972","webpack:////Users/liangrumeng/Documents/HBuilderProjects/wx-meituan/pages/search/search.vue"],"names":["createPage","Page","console","log","components","NearByShop","data","searchVal","historyList","searchResult","searchResultTit","searchList","mounted","uni","getStorageSync","methods","toSearchHandler","getSearchAsync","onKeyPress","e","detail","value","historyItemHandler","item","searchdata","push","Array","from","Set","setStorageSync","searchApi","then","res"],"mappings":"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","file":"pages/search/search.js","sourcesContent":["import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search.vue?vue&type=style&index=0&id=19a00fb0&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search.vue?vue&type=style&index=0&id=19a00fb0&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin","import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'\nimport Page from './pages/search/search.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./search.vue?vue&type=template&id=19a00fb0&scoped=true&\"\nvar renderjs\nimport script from \"./search.vue?vue&type=script&lang=js&\"\nexport * from \"./search.vue?vue&type=script&lang=js&\"\nimport style0 from \"./search.vue?vue&type=style&index=0&id=19a00fb0&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"19a00fb0\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('19a00fb0')) {\n      api.createRecord('19a00fb0', component.options)\n    } else {\n      api.reload('19a00fb0', component.options)\n    }\n    module.hot.accept(\"./search.vue?vue&type=template&id=19a00fb0&scoped=true&\", function () {\n      api.rerender('19a00fb0', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"Users/liangrumeng/Documents/HBuilderProjects/wx-meituan/pages/search/search.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search.vue?vue&type=template&id=19a00fb0&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {request} from '../../config/request.js'\nimport {searchApi} from '../../config/api.js'\nimport NearByShop from '../index/components/nearByShop.vue'\nimport {Toast} from '../../config/tools.js'\nconst {log} = console\nexport default{\n  components:{\n    NearByShop\n  },\n  data(){\n    return{\n      searchVal:'',\n      historyList:[],\n      searchResult:false,   // 搜索无结果展示\n      searchResultTit:'',\n      searchList:[]\n    }\n  },\n  mounted() {\n    this.historyList = uni.getStorageSync('historyList') || []\n  },\n  methods:{\n    // 搜索\n    toSearchHandler(){\n      if(this.searchVal){\n        this.getSearchAsync(this.searchVal)\n      }else{\n        Toast('关键字不能为空')\n      }\n    },\n    // 键盘按下时触发\n    onKeyPress(e){\n      if(e.detail.value){\n        this.getSearchAsync(e.detail.value)\n      }else{\n        Toast('关键字不能为空')\n      }\n    },\n    // 点击历史记录\n    historyItemHandler(item){\n      this.searchVal = item\n      this.getSearchAsync(item)\n    },\n    // 获取接口数据\n    getSearchAsync(searchdata){\n      // 存储历史记录\n      this.historyList.push(searchdata)\n      this.historyList = Array.from(new Set(this.historyList))  // 去重\n      uni.setStorageSync('historyList',this.historyList)\n      \n      let data = { searchdata }\n      request(searchApi,data,'post').then(res=>{\n        log('搜索结果',res)\n        if(res == '没有商品数据'){\n          this.searchResult = true\n          this.searchResultTit = res\n          this.searchList = []\n        }else{\n          this.searchResult = false\n          this.searchList = res\n        }\n      })\n    },\n  }\n}\n"],"sourceRoot":""}